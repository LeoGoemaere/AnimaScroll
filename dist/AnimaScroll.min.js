class Animation{constructor({fromValue:a,toValue:b,duration:c,direction:d,timingCurve:e}){this.fromValue=a,this.toValue=b,this.duration=c,this.direction=d,this.timingCurve=e,this.animationProgress=0,this.currentAnimationRange=0,this.isAnimationRunning=!1,this.onProgress=null,this.onComplete=null,this.requestAnim=null,window.addEventListener("wheel",()=>this.stop())}animate(){if(this.isAnimationRunning)return;let a=null;const b=c=>{this.isAnimationRunning=!0,null===a&&(a=c);let d=c-a;this.currentAnimationRange=this._getAnimationRange(d,this.duration);const e=0<=this.currentAnimationRange&&1>=this.currentAnimationRange;this._processingAnimationProgress(),this._scrolling({delay:this.delay,animationPosition:this.animationProgress}),e?(this.requestAnim=requestAnimationFrame(b),this._runCallbackFunctions(this.onProgress,{parameters:[this.animationProgress,this.currentAnimationRange]})):(this.isAnimationRunning=!1,this.animationProgress=this.toValue,this.currentAnimationRange=1,this._scrolling({animationPosition:this.animationProgress}),this._runCallbackFunctions(this.onProgress,{parameters:[this.animationProgress,this.currentAnimationRange]}),this._runCallbackFunctions(this.onComplete),a=null,this._resetAnimationDatas())};this.requestAnim=requestAnimationFrame(b)}run(){this.animate()}stop(){this.isAnimationRunning&&(this.isAnimationRunning=!1,this._resetAnimationDatas(),cancelAnimationFrame(this.requestAnim))}_processingAnimationProgress(){this.animationProgress=this._getAnimProgress({timingCurve:this.timingCurve,animationRange:this.currentAnimationRange,animDistance:this._getAnimDistance(this.fromValue,this.toValue),currentToValue:this._getCurrentToValue(this.fromValue,this.toValue)}),this.toValue<this.fromValue&&(this.animationProgress-=this.fromValue,this.animationProgress=Math.abs(this.animationProgress-this._getCurrentToValue(this.fromValue,this.toValue)))}_scrolling({animationPosition:a}){switch(this.direction){case Animation.directions.scrollY:window.scrollTo(window.scrollX,a);break;case Animation.directions.scrollX:window.scrollTo(a,window.scrollY);break;default:window.scrollTo(this.from,a);}}_getAnimDistance(a,b){return a<b?b-a:a-b}_getAnimProgress({timingCurve:a,animationRange:b,animDistance:c,currentToValue:d}){return a(b)*c+d}_getCurrentToValue(a,b){return b>a?a:b}_getAnimationRange(a,b){return a/b}_resetAnimationDatas(){this.animationProgress=0,this.currentAnimationRange=0}_runCallbackFunctions(a,{parameters:b}={}){null!==a&&("undefined"==typeof b?a():a(...b))}static get directions(){return{scrollX:"scrollX",scrollY:"scrollY"}}static get timingCurves(){return{linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return .5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return .5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return .5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return .5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}}}class AnimaScroll{constructor({link:a,duration:b,timingCurve:c,shiftBy:d}){this.link=a,this.duration=b,this.timingCurve=c,this.shiftBy=d,this.anchor=document.querySelector(this.link.hash),this.onComplete=null,this.onProgress=null}init(){document.addEventListener("click",a=>{delegateTo({element:a.target,withSelector:`[href="${this.link.hash}"]`},()=>{a.preventDefault(),this._scrollingTo(this._scrollingDistanceFrom(this.anchor))})})}_scrollingDistanceFrom(a){return a.getBoundingClientRect().top+(window.scrollY||window.pageYOffset)}_scrollingDistanceToBeSubstractedFrom(a){const b=a.split(",");return Array.from(b).map(a=>document.querySelector(a).offsetHeight).reduce((a,b)=>a+b)}_updateUrl({hash:a}){history.pushState?history.pushState(null,null,a):location.hash=a}_scrollingTo(a){this._updateUrl({hash:this.link.hash});const b=new Animation({fromValue:window.scrollY,toValue:this.shiftBy?a-this._scrollingDistanceToBeSubstractedFrom(this.shiftBy):a,duration:this.duration||0,timingCurve:Animation.timingCurves[this.timingCurve]||Animation.timingCurves.linear});b.run(),this.onComplete&&"function"==typeof this.onComplete&&(b.onComplete=this.onComplete),this.onProgress&&"function"==typeof this.onProgress&&(b.onProgress=this.onProgress)}static get timingCurves(){return Animation.timingCurves}static _withDOM(){const a=document.querySelectorAll("[data-anima-link]");a.forEach(a=>new AnimaScroll({link:a,duration:a.dataset.animaDuration||null,timingCurve:a.dataset.animaTimingCurve||null,shiftBy:a.dataset.animaShiftby||null}).init())}}document.addEventListener("DOMContentLoaded",AnimaScroll._withDOM);function delegateTo({element:a,withSelector:b},c){let d,e=!!document.querySelector(b);if(d=!a.matches(b)&&e?null!==a.closest(b):!!e,d){const d=a.closest(b);c(d)}}