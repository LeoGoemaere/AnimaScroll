!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Anima=t():n.Anima=t()}(window,(function(){return function(n){var t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(i,r,function(t){return n[t]}.bind(null,r));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";function i(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function u(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}e.r(t);var a=function(){function n(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.fromValue,o=void 0===i?null:i,u=e.toValue,a=void 0===u?null:u,s=e.duration,l=void 0===s?null:s,c=e.direction,m=void 0===c?"scrollY":c,f=e.timingCurve,h=void 0===f?"linear":f;r(this,n),this.fromValue=o,this.toValue=a,this.duration=l,this.direction=m,this.timingCurve=h,this.animationProgress=0,this.currentAnimationRange=0,this.isAnimationRunning=!1,this.onProgress=null,this.onComplete=null,this.requestAnim=null,window.addEventListener("wheel",(function(){return t.stop()}))}return u(n,[{key:"animate",value:function(){var n=this;if(!this.isAnimationRunning){var t=null;this.requestAnim=requestAnimationFrame((function e(i){n.isAnimationRunning=!0,null===t&&(t=i);var r=i-t;n.currentAnimationRange=n._getAnimationRange(r,n.duration);var o=n.currentAnimationRange>=0&&n.currentAnimationRange<=1;n._processingAnimationProgress(),n._scrolling({delay:n.delay,animationPosition:n.animationProgress}),o?(n.requestAnim=requestAnimationFrame(e),n._runCallbackFunctions(n.onProgress,{parameters:[n.animationProgress,n.currentAnimationRange]})):(n.isAnimationRunning=!1,n.animationProgress=n.toValue,n.currentAnimationRange=1,n._scrolling({animationPosition:n.animationProgress}),n._runCallbackFunctions(n.onProgress,{parameters:[n.animationProgress,n.currentAnimationRange]}),n._runCallbackFunctions(n.onComplete),t=null,n._resetAnimationDatas())}))}}},{key:"run",value:function(){this.animate()}},{key:"stop",value:function(){this.isAnimationRunning&&(this.isAnimationRunning=!1,this._resetAnimationDatas(),cancelAnimationFrame(this.requestAnim))}},{key:"_processingAnimationProgress",value:function(){this.animationProgress=this._getAnimProgress({timingCurve:n.timingCurves[this.timingCurve],animationRange:this.currentAnimationRange,animDistance:this._getAnimDistance(this.fromValue,this.toValue),currentToValue:this._getCurrentToValue(this.fromValue,this.toValue)}),this.toValue<this.fromValue&&(this.animationProgress-=this.fromValue,this.animationProgress=Math.abs(this.animationProgress-this._getCurrentToValue(this.fromValue,this.toValue)))}},{key:"_scrolling",value:function(t){var e=t.animationPosition;switch(this.direction){case n.directions.scrollY:window.scrollTo(window.scrollX,e);break;case n.directions.scrollX:window.scrollTo(e,window.scrollY);break;default:window.scrollTo(this.from,e)}}},{key:"_getAnimDistance",value:function(n,t){return n<t?t-n:n-t}},{key:"_getAnimProgress",value:function(n){var t=n.timingCurve,e=n.animationRange,i=n.animDistance,r=n.currentToValue;return t(e)*i+r}},{key:"_getCurrentToValue",value:function(n,t){return t>n?n:t}},{key:"_getAnimationRange",value:function(n,t){return n/t}},{key:"_resetAnimationDatas",value:function(){this.animationProgress=0,this.currentAnimationRange=0}},{key:"_runCallbackFunctions",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.parameters;null!==n&&(void 0===e?n():n.apply(void 0,i(e)))}}],[{key:"directions",get:function(){return{scrollX:"scrollX",scrollY:"scrollY"}}},{key:"timingCurves",get:function(){return{linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}}}}]),n}(),s=function(){function n(t){var e=t.link,i=t.duration,o=t.timingCurve,u=t.shiftBy;r(this,n),this.link=e,this.duration=i,this.timingCurve=o,this.shiftBy=u,this.anchor=document.querySelector(this.link.hash),this.onComplete=null,this.onProgress=null}return u(n,[{key:"init",value:function(){var n=this;document.addEventListener("click",(function(t){!function(n,t){var e,i=n.element,r=n.withSelector,o=!!document.querySelector(r);if(!(l.isMatchesSupported?i.matches(r):l.matches(i,r))&&o){var u=l.isClosestSupported?i.closest(r):l.closest(i,r);e=null!==u}else e=!!o;if(e){var a=l.isClosestSupported?i.closest(r):l.closest(i,r);t(a)}}({element:t.target,withSelector:'[href="'.concat(n.link.hash,'"]')},(function(){t.preventDefault(),n._scrollingTo(n._scrollingDistanceFrom(n.anchor))}))}))}},{key:"_scrollingDistanceFrom",value:function(n){return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset)}},{key:"_scrollingDistanceToBeSubstractedFrom",value:function(n){var t=n.split(",");return t.every((function(n){return document.querySelector(n)}))?t.map((function(n){return document.querySelector(n).offsetHeight})).reduce((function(n,t){return n+t})):console.error("One of your shiftBy selector doesn't exist.")}},{key:"_updateUrl",value:function(n){var t=n.hash;history.pushState?history.pushState(null,null,t):location.hash=t}},{key:"_scrollingTo",value:function(n){this._updateUrl({hash:this.link.hash});var t=new a({fromValue:window.scrollY,toValue:this.shiftBy?n-this._scrollingDistanceToBeSubstractedFrom(this.shiftBy):n,duration:this.duration||0,timingCurve:this.timingCurve||"linear"});t.run(),this.onComplete&&"function"==typeof this.onComplete&&(t.onComplete=this.onComplete),this.onProgress&&"function"==typeof this.onProgress&&(t.onProgress=this.onProgress)}}],[{key:"_withDOM",value:function(){for(var t=document.querySelectorAll("[data-anima-link]"),e=0;e<t.length;e++)new n({link:t[e],duration:t[e].getAttribute("data-anima-duration")||null,timingCurve:t[e].getAttribute("data-anima-timing-curve")||null,shiftBy:t[e].getAttribute("data-anima-shiftBy")||null}).init()}},{key:"timingCurves",get:function(){return a.timingCurves}}]),n}();document.addEventListener("DOMContentLoaded",s._withDOM);var l={matches:function(n,t){for(var e=(n.document||n.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==n;);return i>-1},isMatchesSupported:!!Element.prototype.matches,closest:function(n,t){this.isSupported=!!Element.prototype.closest;var e=n;if(!document.documentElement.contains(e))return null;do{if(l.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1==e.nodeType);return null},isClosestSupported:!!Element.prototype.closest};t.default={Animation:a,AnimaScroll:s}}]).default}));